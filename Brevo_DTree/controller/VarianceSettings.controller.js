sap.ui.define(["sap/ui/core/mvc/Controller"],function(e){"use strict";return e.extend("Brevo.BrevoDtree.controller.VarianceSettings",{onInit:function(){varianceAnalysis=this;var e=sap.ui.getCore().getEventBus();e.subscribe("fromdataconfig","tovariancesettings",function(e,a,i){varianceAnalysis.flag=i.status;var n,t;for(var s=0;s<i.dimensions.length;s++){if(s==0){n=i.dimensions[s].getTitle()}else{n+=","+i.dimensions[s].getTitle()}}for(var l=0;l<i.measures.length;l++){if(l==0){t=i.measures[l].getTitle()}else{t+=","+i.measures[l].getTitle()}}varianceAnalysis.Value=i;varianceAnalysis.existingscen=i.scenario;varianceAnalysis.existingvariance=i.variance;var r="Date.xsjs?view="+i.view+"&select="+n+","+t;var o=ibrevoVDT.Component.getService();o.callService("varianceModel","varianceModel",r,"scenario",true,"",function(e,a){var i=sap.ui.getCore().getModel("varianceModel");varianceAnalysis.getView().byId("SimpleFormDisplay354wideDual").getContent()[2].setModel(new sap.ui.model.json.JSONModel(i.oData[0].TimeDimension));varianceAnalysis.getView().byId("SimpleFormDisplay354wideDual").getContent()[4].setModel(new sap.ui.model.json.JSONModel(i.oData[0].TimePeriod));varianceAnalysis.getView().byId("SimpleFormDisplay354wideDual").getContent()[9].setMin(0);varianceAnalysis.getView().byId("SimpleFormDisplay354wideDual").getContent()[9].setMax(1);varianceAnalysis.getView().byId("SimpleFormDisplay354wideDual").getContent()[9].setStep(.1);varianceAnalysis.getView().byId("SimpleFormDisplay354wideDual").getContent()[9].setValue(.5);varianceAnalysis.getView().byId("SimpleFormDisplay354wideDual").getContent()[9].setEnableTickmarks(true);varianceAnalysis.getView().byId("SimpleFormDisplay354wideDual").getContent()[11].setMin(-10);varianceAnalysis.getView().byId("SimpleFormDisplay354wideDual").getContent()[11].setMax(10);varianceAnalysis.getView().byId("SimpleFormDisplay354wideDual").getContent()[11].setStep(2);varianceAnalysis.getView().byId("SimpleFormDisplay354wideDual").getContent()[11].setValue(0);varianceAnalysis.getView().byId("SimpleFormDisplay354wideDual").getContent()[11].setEnableTickmarks(true);var n=[];var t=[{value:varianceAnalysis.Value.target+" Variance Absolute",key:1},{value:varianceAnalysis.Value.target+" Percentage",key:2}];varianceAnalysis.getView().byId("SimpleFormDisplay354wideDual").getContent()[7].setModel(new sap.ui.model.json.JSONModel(t));if(varianceAnalysis.flag==true){varianceAnalysis.getView().byId("SimpleFormDisplay354wideDual").getContent()[2].setSelectedKey(varianceAnalysis.Value.variance.timeDimension);varianceAnalysis.getView().byId("SimpleFormDisplay354wideDual").getContent()[4].setSelectedKey(varianceAnalysis.Value.variance.timePeriod);varianceAnalysis.getView().byId("SimpleFormDisplay354wideDual").getContent()[5].setSelectedKey(varianceAnalysis.Value.variance.quarterInfo);varianceAnalysis.getView().byId("SimpleFormDisplay354wideDual").getContent()[7].setSelectedKey(varianceAnalysis.Value.variance.varianceMeasure);varianceAnalysis.getView().byId("SimpleFormDisplay354wideDual").getContent()[9].setValue(varianceAnalysis.Value.variance.MinDimension);varianceAnalysis.getView().byId("SimpleFormDisplay354wideDual").getContent()[11].setValue(varianceAnalysis.Value.variance.minMeasure)}})})},handleSelectionChange:function(e){var a=e.getParameters().selectedItem},handleSliderChange:function(e){var a=e.getParameters().value}})});