(function(){var t;t=function(t){if(typeof exports==="object"&&typeof module==="object"){return t(require("jquery"))}else if(typeof define==="function"&&define.amd){return define(["jquery"],t)}else{return t(jQuery)}};t(function(t){var e;e=function(e,r){return function(i,n){var a,o,l,s,u,h,g,f,d,c,p,v,C,w,A,m,y,j,b,S,x,z,T,k,F,q,D,L,N,W,B;f={localeStrings:{vs:"vs",by:"by"},gchart:{}};n=t.extend(true,{},f,n);if((o=n.gchart).width==null){o.width=window.innerWidth/1.4}if((l=n.gchart).height==null){l.height=window.innerHeight/1.4}k=i.getRowKeys();if(k.length===0){k.push([])}u=i.getColKeys();if(u.length===0){u.push([])}d=i.aggregatorName;if(i.valAttrs.length){d+="("+i.valAttrs.join(", ")+")"}C=function(){var t,e,r;r=[];for(t=0,e=k.length;t<e;t++){p=k[t];r.push(p.join("-"))}return r}();C.unshift("");j=0;if(e==="ScatterChart"){h=[];S=i.tree;for(B in S){q=S[B];for(W in q){a=q[W];h.push([parseFloat(W),parseFloat(B),d+": \n"+a.format(a.value())])}}g=new google.visualization.DataTable;g.addColumn("number",i.colAttrs.join("-"));g.addColumn("number",i.rowAttrs.join("-"));g.addColumn({type:"string",role:"tooltip"});g.addRows(h);v=i.colAttrs.join("-");D=i.rowAttrs.join("-");F=""}else{h=[C];for(w=0,m=u.length;w<m;w++){s=u[w];z=[s.join("-")];j+=z[0].length;for(A=0,y=k.length;A<y;A++){T=k[A];a=i.getAggregator(T,s);if(a.value()!=null){L=a.value();if(t.isNumeric(L)){if(L<1){z.push(parseFloat(L.toPrecision(3)))}else{z.push(parseFloat(L.toFixed(3)))}}else{z.push(L)}}else{z.push(null)}}h.push(z)}g=google.visualization.arrayToDataTable(h);F=D=d;v=i.colAttrs.join("-");if(v!==""){F+=" "+n.localeStrings.vs+" "+v}c=i.rowAttrs.join("-");if(c!==""){F+=" "+n.localeStrings.by+" "+c}}b={title:F,hAxis:{title:v,slantedText:j>50},vAxis:{title:D},tooltip:{textStyle:{fontName:"Arial",fontSize:12}}};if(e==="ColumnChart"){b.vAxis.minValue=0}if(e==="ScatterChart"){b.legend={position:"none"};b.chartArea={width:"80%",height:"80%"}}else if(h[0].length===2&&h[0][1]===""){b.legend={position:"none"}}b=t.extend(true,{},b,n.gchart,r);x=t("<div>").css({width:"100%",height:"100%"});N=new google.visualization.ChartWrapper({dataTable:g,chartType:e,options:b});N.draw(x[0]);x.bind("dblclick",function(){var t;t=new google.visualization.ChartEditor;google.visualization.events.addListener(t,"ok",function(){return t.getChartWrapper().draw(x[0])});return t.openDialog(N)});return x}};return t.pivotUtilities.gchart_renderers={"Line Chart":e("LineChart"),"Bar Chart":e("ColumnChart"),"Stacked Bar Chart":e("ColumnChart",{isStacked:true}),"Area Chart":e("AreaChart",{isStacked:true}),"Scatter Chart":e("ScatterChart")}})}).call(this);